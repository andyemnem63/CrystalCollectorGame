<!DOCTYPE html>
<html>
<head>
	<title>Crystal Collector!</title>
	<!-- reset   -->
	<link rel="stylesheet" type="text/css" href="assets/css/reset.css">
	<!-- css -->
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">

	<!-- jquery -->
	<script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
<!--   <script type="text/javascript" src="assets/javascript/game.js"></script>
 --></head>
<body>
<div id='container'>	
	<div id='parentTitleBox'>
		<div class='titleBox'>Crystal Collectors!</div>
	</div>

	<div id="instructionBox">
		  <p>
            You will be given a random number at the start of the game.
            <br><br>
            There are four crystals below.  By clicking on a crystal you will add a specific amount of points to your total score.
            <br><br>
            You win the game by matching your total score to random number, you lose the game if your total score goes above the random number.
            <br><br>
            The value of each crystal is hidden from you until you click on it.
            <br><br>	
            Each time when the game starts, the game will change to the values of each crystal.
          </p>
	</div>

	<div id='parentRanWlBox'>
		
		<div class="ranNumBox">
		</div>
		<div class="winLoseBox">
			<p>Wins: </p>
				<p class="win">0</p>
			<p>Loses: </p>
				<p class="loss">0</p>
		</div>
	</div>

	<div id="parentGameButtons">
		
			<div type="button" class="box b1 crystal1" value ='1'>	
				<img src="assets/images/crystalOne.png">
			</div>
		
			<div type="button" class="box b2 crystal2" value='2'>
				<img src="assets/images/crystalTwo.png">
			</div>		
				
			<div type="button" class="box b3 crystal3" value ='3'>	
				<img src="assets/images/crystalThree.png">
			</div>
				
			<div type="button" class="box b4 crystal4" value='4'>			
				<img src="assets/images/crystalFour.png">	
			</div>
		
	</div>

	<div id="parentScore">
		<div class="score">
			<p>Your total score is: </p>
		</div>
		
		<div class="scoreDisplay">
			<p class=scoreDisplayChild></p>
		</div>
	</div>
</div>
<script type="text/javascript">


//Global Variables-------------------------------------	----------

var crys1 = Math.floor(Math.random() * (12 - 1) + 1);
var crys2 = Math.floor(Math.random() * (12 - 1) + 1);
var crys3 = Math.floor(Math.random() * (12 - 1) + 1);
var crys4 = Math.floor(Math.random() * (12 - 1) + 1);


//Counter
var win = 0;
var loss = 0;
var finalScore;
				

//Functions------------------------------------------------------
	function reset()
	{
		//reset
		 randNum = Math.floor(Math.random() * (120 - 19) + 19);
		 console.log('randomNumber =  ' + randNum);
		 crys1 = Math.floor(Math.random() * (12 - 1) + 1);
		 crys2 = Math.floor(Math.random() * (12 - 1) + 1);
		 crys3 = Math.floor(Math.random() * (12 - 1) + 1);
		 crys4 = Math.floor(Math.random() * (12 - 1) + 1)
		 finalScore = 0;

		 //HTML
		 $('.ranNumBox').html(randNum);
		 $('.scoreDisplayChild').html(finalScore);
		 start();
	}

	function start()
	{
		 //reset
		 randNum = Math.floor(Math.random() * (120 - 19) + 19);
		 console.log('randomNumber =  ' + randNum);
		 crys1 = Math.floor(Math.random() * (12 - 1) + 1);
		 crys2 = Math.floor(Math.random() * (12 - 1) + 1);
		 crys3 = Math.floor(Math.random() * (12 - 1) + 1);
		 crys4 = Math.floor(Math.random() * (12 - 1) + 1)
		 finalScore = 0;

		 //HTML
		 $('.ranNumBox').html(randNum);
		 $('.scoreDisplayChild').html(finalScore);



		//This gives each crystal a random value
		$('.crystal1').attr("value", crys1);
			var test = $('.crystal1').attr("value");
			//Test / Debug
			console.log('crystal 1   '+test);

		$('.crystal2').attr("value", crys2);
		var test = $('.crystal2').attr("value");
		//Test / Debug
		console.log('crystal 2   '+test);

		$('.crystal3').attr("value", crys3);
		var test = $('.crystal3').attr("value");
		//Test / Debug
		console.log('crystal 3   '+test);

		$('.crystal4').attr("value", crys4);
		var test = $('.crystal4').attr("value");
		//Test / Debug
		console.log('crystal 4   '+test);

		//When clicked saves to Final score
			//added the .off() because it will repeat the click twice without it and save the last number that
			// was clicked and push it to the total score during the next game.
		$('.box').off().on('click', function()
		{
			var test1 = $(this).attr('value');
			//Adds to final score when clicked
			finalScore = parseInt(finalScore) + parseInt(test1);
			console.log('Crystal*  ' +  test1);
			console.log('finalScore***  ' + finalScore);
			$('.scoreDisplayChild').html(finalScore);

			if(randNum === finalScore)
			{
				alert('win');
				win++;
				$('.win').html(win);
				$('.scoreDisplayChild').html(0);
				reset();
				
			}
			else if (finalScore > randNum)
			{
				alert('loser');
				loss++;
				$('.loss').html(loss);
				$('.scoreDisplayChild').html(0);
				reset();
			}

		}); 


}

//Main------------------------------------
start();
				
</script>
</body>
</html>